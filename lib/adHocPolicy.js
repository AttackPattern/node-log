"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=function(r){return function(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=o.policy,t=void 0===e?"":e,n=o.expiration,i=void 0===n?10:n;if(console.log("ad hoc policy time",t),t.includes("global"))throw Error("Invalid attempt to update log policy (accessing global)");if(3600<i)throw Error("Invalid attempt to update log policy (expiration too long)");var l=Function("entry",t),a=new Date;a.setSeconds(a.getSeconds()+i),r.note("Enabling ad hoc log policy until ".concat(a," (").concat(i," seconds)")),r.note("~~~~~~~~~~~"),r.note(t),r.note("~~~~~~~~~~~");var c=r.subscribe(function(o){if(new Date>a)return c.unsubscribe(),void r.note("Removed ad hoc log policy");l(o)})}};exports.default=_default;
//# sourceMappingURL=maps/adHocPolicy.js.map
